<?xml version="1.0"?>
<ruleset name="ILIAS Plugin Standards" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="https://raw.githubusercontent.com/PHPCSStandards/PHP_CodeSniffer/master/phpcs.xsd">
    <description>
        Custom PHP CodeSniffer ruleset for ILIAS plugins.
    </description>

    <!-- Include standards -->
    <rule ref="PSR12"/>

    <rule ref="Generic.Commenting.Todo"/>
    <rule ref="Generic.Commenting.Todo.TaskFound">
        <message>Please review this TODO comment: %s</message>
        <type>warning</type>
    </rule>

    <rule ref="Generic.Files.LineEndings">
        <properties>
            <property name="eolChar" value="\n"/>
        </properties>
    </rule>

    <!-- Exclude too restrictive rules -->
    <exclude name="Generic.Files.LineLength"/>
    <exclude name="Generic.Files.LineLength.TooLong"/>
    <exclude name="Generic.Commenting.DocComment.MissingCategoryTag"/>
    <exclude name="Generic.Commenting.DocComment.MissingPackageTag"/>
    <exclude name="Generic.Commenting.DocComment.MissingLicenseTag"/>
    <exclude name="Generic.Commenting.DocComment.MissingLinkTag"/>
    <exclude name="PSR12.Classes.ClassDeclaration.Namespace" />
    <exclude name="PSR12.Classes.ClassDeclaration.MissingNamespace"/>
    <exclude name="PSR12.Classes.ClassDeclaration.MissingClassNameCapitalLetter"/>
    <exclude name="PSR12.Classes.ClassDeclaration.PascalCase" />
    <exclude name="PSR12.Classes.ClassDeclaration.PascalCaseClassName"/>
    <exclude name="PSR12.Classes.ClassDeclaration.ClassNameNotCamelCaps"/>
    <exclude name="PSR12.Files.SideEffects.FoundWithSymbols"/>

    <!-- Direcories to check -->
    <file>../classes</file>

    <!-- Exclude paths -->
    <exclude-pattern>../ilias-plugin-ci</exclude-pattern>
    <exclude-pattern>*/vendor/*</exclude-pattern>

    <rule ref="./PluginStandard/ruleset.xml"/>
</ruleset>
